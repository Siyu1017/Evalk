var $=(e,t)=>!0==t?document.querySelectorAll(e):document.querySelector(e);const S={install(e){var t,l;(t="[data-select]",document.querySelectorAll(t)).forEach(e=>{if(e.setAttribute("value",""),null===e.querySelector(".select-default")){var t=document.createElement("div");t.className="select-default",e.querySelector(".select-item.selected:not([disabled], [disabled='true'], .disabled)")?(t.innerText=e.querySelector(".select-item.selected:not([disabled], [disabled='true'], .disabled)").innerText,e.setAttribute("value",e.querySelector(".select-item.selected:not([disabled], [disabled='true'], .disabled)").getAttribute("value"))):t.innerText="請選擇...",e.appendChild(t)}else e.querySelector(".select-item.selected:not([disabled], [disabled='true'], .disabled)")&&(e.querySelector(".select-default").innerText=e.querySelector(".select-item.selected:not([disabled], [disabled='true'], .disabled)").innerText,e.setAttribute("value",e.querySelector(".select-item.selected:not([disabled], [disabled='true'], .disabled)").getAttribute("value")));""!=e.getAttribute("multiple")&&!0==!e.getAttribute("multiple")&&e.querySelectorAll(".select-item.selected:not([disabled], [disabled='true'], .disabled)").forEach((e,t)=>{0!=t&&e.classList.remove("selected")}),e.addEventListener("click",t=>{e.classList.add("active");var l=function e(t){function l(e){var t=e.getBoundingClientRect(),l=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+r,left:t.left+l}}return{x:l(t).left,y:l(t).top}}(e.querySelector(".select-popup")).y-window.scrollY;if(window.innerHeight-l>150?e.querySelector(".select-popup").style.height=window.innerHeight-l-8>e.querySelector(".select-popup").scrollHeight?"auto":window.innerHeight-l-8+"px":(e.querySelector(".select-popup").style.height=l-8+"px",e.querySelector(".select-popup").style.top="0px",e.querySelector(".select-popup").style.bottom="calc(100% + .5rem)"),t.target.classList.contains("select-item")&&!t.target.classList.contains("disabled")){var r=new CustomEvent("change",{detail:t.target.getAttribute("value")||""});if(e.setAttribute("value",t.target.getAttribute("value")||""),""!=e.getAttribute("multiple")&&!0==!e.getAttribute("multiple")&&e.querySelectorAll(".select-item.selected").forEach(e=>{e.classList.remove("selected")}),t.target.classList.add("selected"),null!==e.querySelector(".select-default"))e.querySelector(".select-default").innerText=t.target.innerText;else{var s=document.createElement("div");s.className="select-default",s.innerText=t.target.innerText,e.appendChild(s)}e.dispatchEvent(r),e.classList.remove("active")}}),window.addEventListener("blur",()=>{e.classList.remove("active")}),document.addEventListener("click",t=>{e.contains(t.target)||e.classList.remove("active")})})},value:e=>e.getAttribute("value")};